#!/usr/bin/python

''' Eclipse is calling this script every build '''

f = open("../utils/build/build_number.txt", "r")
number = int(f.readline())
f.close()

number += 1

print "Current build number is: %d" % number

f = open("../utils/build/build_number.txt", "w")
f.write("%d" % number)
f.close()

f = open("../src/build_number.h", "w")

f.write("//generated by inc_build_number.py\n")
f.write("\n")
f.write("#ifndef BUILD_NUMBER_H\n")
f.write("#define BUILD_NUMBER_H\n")
f.write("#define BUILD_NUMBER %dul\n" % number)
f.write("#endif\n")

f.close()
